{% extends "base.html" %}

{% block content %}
<div class="min-h-[calc(100vh-6rem)] flex items-center justify-center p-4 relative overflow-hidden">

  <!-- Background with Better Contrast -->
  <div class="absolute inset-0 z-0 bg-gradient-to-br from-emerald-500 to-teal-600">
    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"></div>
  </div>

  <div
    class="w-full max-w-5xl bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden z-10 border border-white/30 dark:border-gray-700/30 animate-scale-in">

    <div class="grid grid-cols-1 lg:grid-cols-5">

      <!-- Left: Info Section (Compact) -->
      <div style="background: linear-gradient(to bottom right, #0f766e, #15803d);"
        class="hidden lg:block lg:col-span-2 p-8 relative flex flex-col justify-center">

        <div class="mb-6">
          <h2 class="text-3xl font-heading font-bold text-white mb-3 drop-shadow-md">Join Scan2Clean</h2>
          <p class="text-white text-sm font-medium leading-relaxed">
            Become a citizen reporter or a waste management hero. Together, we make a difference! üåç
          </p>
        </div>

        <img src="https://cdn-icons-png.flaticon.com/512/3209/3209998.png"
          class="w-40 h-40 mx-auto drop-shadow-2xl opacity-90 mt-8">

      </div>

      <!-- Right: Register Form (Compact, No Scroll) -->
      <div class="lg:col-span-3 bg-white dark:bg-gray-800 p-8">

        <h3 class="text-2xl font-heading font-bold text-gray-800 dark:text-gray-100 mb-1">Create Account</h3>
        <p class="text-gray-500 dark:text-gray-400 text-sm mb-6">Fill in your details to register.</p>

        <form method="post" class="space-y-3">
          {% csrf_token %}

          <!-- Compact Grid Layout for Form Fields -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            {% for field in form %}
            <div class="{% if 'email' in field.name or 'username' in field.name %}md:col-span-2{% endif %}">
              <label class="block text-xs font-bold text-gray-700 dark:text-gray-300 mb-1">{{ field.label }}</label>
              <div class="form-field-wrapper">
                {{ field }}
              </div>
              {% if field.errors %}
              <p class="text-red-500 text-xs mt-1 font-medium">{{ field.errors.0 }}</p>
              {% endif %}
              {% if field.help_text and forloop.first %}
              <p class="text-gray-400 text-xs mt-1">{{ field.help_text }}</p>
              {% endif %}
            </div>
            {% endfor %}
          </div>

          <style>
            .form-field-wrapper input,
            .form-field-wrapper select,
            .form-field-wrapper textarea {
              width: 100%;
              padding: 0.5rem 0.75rem;
              font-size: 0.875rem;
              border-radius: 0.5rem;
              background-color: #f9fafb;
              border: 1px solid #e5e7eb;
              outline: none;
              transition: all 0.2s;
            }

            .dark .form-field-wrapper input,
            .dark .form-field-wrapper select,
            .dark .form-field-wrapper textarea {
              background-color: #374151;
              border-color: #4b5563;
              color: white;
            }

            .form-field-wrapper input:focus,
            .form-field-wrapper select:focus,
            .form-field-wrapper textarea:focus {
              background-color: #ffffff;
              box-shadow: 0 0 0 2px #22c55e;
              border-color: transparent;
            }

            .dark .form-field-wrapper input:focus,
            .dark .form-field-wrapper select:focus,
            .dark .form-field-wrapper textarea:focus {
              background-color: #4b5563;
              box-shadow: 0 0 0 2px #22c55e;
            }
          </style>

          <button type="submit" style="background: linear-gradient(to right, #14b8a6, #22c55e);"
            class="w-full bg-gradient-to-r from-teal-500 to-eco-500 hover:from-teal-600 hover:to-eco-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-teal-500/30 hover:shadow-teal-500/50 hover:-translate-y-0.5 transition-all duration-300 mt-4">
            Register Now
          </button>

        </form>

        <div class="mt-4 text-center">
          <p class="text-gray-500 text-xs">
            Already have an account?
            <a href="/login/" class="text-teal-600 font-bold hover:underline decoration-2 underline-offset-2">Login
              here</a>
          </p>
        </div>

      </div>

    </div>
  </div>
</div>
{% endblock %}